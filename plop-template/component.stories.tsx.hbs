
import type { Meta, StoryObj } from "@storybook/react";
import React from "react";
import { Title, Subtitle, Description, Primary as DocsPrimary, Controls, Stories } from "@storybook/addon-docs/blocks";
import {{pascalCase componentName}} from "./{{pascalCase componentName}}";

// Story-only args (none for strict Ant Design Radio)
type StoryOnlyArgs = {};
type Args = React.ComponentProps<typeof {{pascalCase componentName}}> & StoryOnlyArgs;

const meta = {
  title: "Components/{{pascalCase componentName}}",
  component: {{pascalCase componentName}},
  args: {
    checked: false,
    disabled: false,
    value: undefined,
    defaultChecked: false,
    children: "Radio",
  },
  parameters: {
    docs: {
      page: () => (
        <>
          <Title />
          <Subtitle />
          <Description />
          <h2>Usage guidelines</h2>
          <h3>When to use</h3>
          <ul>
            <li>Used to select a single state from multiple options.</li>
            <li>Use when you want visible, easily comparable choices.</li>
          </ul>
          <h3>When not to use</h3>
          <ul>
            <li>Too many options (prefer Select).</li>
          </ul>
          <h2>Design checklist</h2>
          <ul>
            <li>Use clear, concise labels.</li>
            <li>Group related options together.</li>
            <li>Use disabled for unavailable options.</li>
          </ul>
          <h2>Playground</h2>
          <DocsPrimary />
          <h2>Variables</h2>
          <Controls />
          <Stories />
        </>
      ),
      source: {
        type: "dynamic",
        transform: (_code: string, ctx: any) => {
          const a = ctx.args as Args;
          const props: string[] = [];
          if (a.checked) props.push("checked");
          if (a.disabled) props.push("disabled");
          if (a.value !== undefined) props.push(`value={${JSON.stringify(a.value)}}`);
          if (a.defaultChecked) props.push("defaultChecked");
          return `<{{pascalCase componentName}} ${props.join(" ")}>${a.children}</{{pascalCase componentName}}>`;
        },
      },
    },
  },
  argTypes: {
    checked: { control: "boolean" },
    disabled: { control: "boolean" },
    value: { control: "text" },
    defaultChecked: { control: "boolean" },
    children: { control: "text" },
  },
  render: (args: Args) => {
    // No story-only args to strip
    return <{{pascalCase componentName}} {...args} />;
  },
} satisfies Meta<Args>;

export default meta;
type Story = StoryObj<typeof meta>;

export const Basic: Story = {
  args: { children: "Radio" },
};

export const Disabled: Story = {
  args: { children: "Disabled", disabled: true },
};

export const Checked: Story = {
  args: { children: "Checked", checked: true },
};

export const DefaultChecked: Story = {
  args: { children: "Default Checked", defaultChecked: true },
};
